globalThis.process ??= {}; globalThis.process.env ??= {};
import '../@astrojs_XkseP6bl.mjs';
import { c as createAstro, a as createComponent, r as renderTemplate, m as maybeRenderHead, b as renderComponent, d as renderSlot, e as renderHead, f as addAttribute } from '../../renderers.mjs';
import '../kleur_BcFxsYqz.mjs';
/* empty css                          */
import { r as reactExports, j as jsxRuntimeExports } from '../react_BatLIxD_.mjs';

const $$Astro$5 = createAstro("https://achilan.github.io");
const $$Footer = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$5, $$props, $$slots);
  Astro2.self = $$Footer;
  return renderTemplate`${maybeRenderHead()}<footer class="border border-t border-gray-800"> <div class="container mx-auto px-4 py-6"> <p class="text-center text-gray-400">Made with Astro</p> </div> </footer>`;
}, "/Users/achilan/repositories/astro-movies/src/components/Footer.astro", void 0);

const $$Logo = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${maybeRenderHead()}<svg width="200.0000396728516" height="84.62794651703037" viewBox="0 0 343.8947741986194 67.8394076153479" class="looka-1j8o68f"><defs id="SvgjsDefs2079"></defs><g id="SvgjsG2080" featurekey="xG21Y3-0" transform="matrix(0.827319932692929,0,0,0.827319932692929,-8.27319932692929,-8.274026192401571)" fill="#b35f3e"><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="18" cy="18.001" r="3.001"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="31.5" cy="18.001" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="50" cy="18.001" r="8"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="68.499" cy="18.001" r="5.501"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="82" cy="18.001" r="3"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="18" cy="31.501" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="33.999" cy="34" r="3"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="50" cy="36.501" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="65.999" cy="34" r="3.001"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="82" cy="31.501" r="5.501"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="18" cy="50.001" r="8"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="36.499" cy="50.001" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="50" cy="49.999" r="3"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="63.5" cy="50.001" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="82" cy="50.001" r="8"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="18" cy="68.501" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="33.999" cy="66" r="3"></circle><path xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M55.5,63.502  C55.5,66.537,53.037,69,50,69c-3.036,0-5.502-2.463-5.502-5.498C44.498,60.462,46.964,58,50,58C53.037,58,55.5,60.462,55.5,63.502z"></path><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="65.999" cy="66" r="3.001"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="82" cy="68.501" r="5.501"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="18" cy="82" r="3.001"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="31.5" cy="82" r="5.5"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="50" cy="82" r="8"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="68.499" cy="82" r="5.501"></circle><circle xmlns="http://www.w3.org/2000/svg" stroke="#b35f3e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" cx="82" cy="82" r="3"></circle></g><g id="SvgjsG2081" featurekey="nameLeftFeature-0" transform="matrix(1.8504914039443283,0,0,1.8504914039443283,83.34250928350104,9.121050693389492)" fill="#ffffff"><path d="M17.354 20 l-2.3145 0 l-0.91797 -10.996 l-3.9941 10.996 l-1.4648 0 l-3.9746 -10.977 l-0.92773 10.977 l-2.3242 0 l1.1133 -13.926 l3.252 0 l3.584 9.8438 l3.6133 -9.8438 l3.252 0 z M26.8456625 20.18555 c-4.0039 0 -7.0313 -2.7441 -7.0313 -7.1582 c0 -4.4043 3.0273 -7.1484 7.0313 -7.1484 c3.9941 0 7.0215 2.7441 7.0215 7.1484 c0 4.4141 -3.0273 7.1582 -7.0215 7.1582 z M26.8456625 18.0176 c2.6367 0 4.6973 -1.8262 4.6973 -4.9902 c0 -3.1348 -2.0605 -4.9707 -4.6973 -4.9707 s-4.6973 1.8359 -4.6973 4.9707 c0 3.1641 2.0605 4.9902 4.6973 4.9902 z M45.61534375 6.074 l2.4805 0 l-5.1367 13.926 l-2.5098 0 l-5.1074 -13.926 l2.4707 0 l3.9063 11.123 z M50.52735625 20 l0 -13.926 l2.334 0 l0 13.926 l-2.334 0 z M64.619115625 8.154 l-5.4102 0 l0 3.8574 l4.7852 0 l0 2.0605 l-4.7852 0 l0 3.8379 l5.4102 0 l0 2.0898 l-7.7734 0 l0 -13.926 l7.7734 0 l0 2.0801 z"></path></g><g id="SvgjsG2082" featurekey="nameRightFeature-0" transform="matrix(1.8760886030125186,0,0,1.8760886030125186,208.57482540104093,8.95171433136664)" fill="#ffffff"><path d="M10.146 8.467 l-5.3711 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 5.7813 l-2.9492 0 l0 -14.111 l8.3203 0 l0 2.5781 z M12.6465125 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M28.857578125 5.888999999999999 l2.9199 0 l0 14.111 l-3.3887 0 l-6.25 -10.088 l0 10.088 l-2.9199 0 l0 -14.111 l3.3496 0 l6.2891 10.029 l0 -10.029 z M35.429715625 20 l0 -14.111 l5.1074 0 c4.502 0 6.7285 2.832 6.7285 7.0508 c0 4.2285 -2.2266 7.0605 -6.7285 7.0605 l-5.1074 0 z M38.359415625 17.4121 l2.0313 0 c2.5977 0 3.7891 -1.6211 3.7891 -4.4727 s-1.1914 -4.4727 -3.7891 -4.4727 l-2.0313 0 l0 8.9453 z M58.19359375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M68.662065625 20 l-3.6719 -6.2109 l-0.84961 0 l0 6.2109 l-2.9297 0 l0 -14.111 l5.1172 0 c3.1934 0 4.541 1.8848 4.541 4.2188 c0 1.8945 -1.0742 3.125 -2.9883 3.5352 l4.248 6.3574 l-3.4668 0 z M64.140665625 8.32 l0 3.3691 l1.7285 0 c1.5625 0 2.1973 -0.66406 2.1973 -1.6797 c0 -1.0059 -0.63477 -1.6895 -2.1973 -1.6895 l-1.7285 0 z"></path></g></svg>`;
}, "/Users/achilan/repositories/astro-movies/src/components/Logo.astro", void 0);

const SearchComponent = () => {
  const [query, setQuery] = reactExports.useState("");
  const [results, setResults] = reactExports.useState([]);
  const results_fetch = async (query2) => {
    if (query2.length > 0) {
      const res = await fetch(
        `https://api.themoviedb.org/3/search/multi?api_key=7fb2f37bff2a42d8d4af1d65af218972&language=en-US&query=${query2}&page=1&include_adult=false`
      );
      const data = await res.json();
      setResults(data.results);
      console.log(data.results);
    } else {
      setResults([]);
    }
  };
  const handleInput = (e) => {
    const searchQuery = e.target.value;
    setQuery(searchQuery);
    results_fetch(searchQuery);
  };
  reactExports.useEffect(() => {
    if (results.length > 0) {
      document.querySelector(".navbar-search").classList.remove("hidden");
    } else {
      document.querySelector(".navbar-search").classList.add("hidden");
    }
  }, [results]);
  reactExports.useEffect(() => {
    document.addEventListener("click", (e) => {
      if (e.target.id !== "searchbar") {
        document.querySelector(".navbar-search").classList.add("hidden");
      }
    });
  }, []);
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx(
      "input",
      {
        type: "text",
        id: "searchbar",
        autoComplete: "off",
        className: "bg-gray-800 rounded-full w-64 px-4 py-1 focus:outline-none focus:shadow-outline",
        placeholder: "Search",
        onChange: handleInput
      }
    ),
    /* @__PURE__ */ jsxRuntimeExports.jsx(
      "div",
      {
        className: `absolute bg-gray-800 text-sm rounded w-64 mt-2 navbar-search ${results.length > 0 ? "block" : "hidden"}`,
        style: { zIndex: 1e3 },
        children: results.length > 0 ? /* @__PURE__ */ jsxRuntimeExports.jsx("ul", { children: results.map((result) => /* @__PURE__ */ jsxRuntimeExports.jsx("li", { className: "border-b border-gray-700", children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          "a",
          {
            href: result.media_type == "movie" ? "/movies/" + result.id : "/tv/" + result.id,
            onClick: () => setQuery(""),
            className: "block hover:bg-gray-700 px-3 py-3",
            children: result.title || result.name
          }
        ) }, result.id)) }) : /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-400 px-3 py-2", children: "No results found" })
      }
    ),
    /* @__PURE__ */ jsxRuntimeExports.jsx(
      "button",
      {
        className: "absolute right-0 top-0 mt-2 mr-2",
        onClick: () => document.getElementById("searchbar").value = "",
        children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          "svg",
          {
            className: "h-4 w-4 fill-current text-gray-500",
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ jsxRuntimeExports.jsx(
              "path",
              {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"
              }
            )
          }
        )
      }
    )
  ] });
};

const $$Nav = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${maybeRenderHead()}<nav class="nav border-b border-gray-800 sticky top-0 z-30 bg-neutral-900"> <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between px-4 py-6"> <ul class="flex flex-col md:flex-row items-center"> <li> <a href="/" class="flex items-center font-bold text-xl"> ${renderComponent($$result, "Logo", $$Logo, {})} <!--                     <span>astro</span>
                    &nbsp;
                    <span class="text-orange-500">movies</span> --> </a> </li> <li class="md:ml-16 mt-3 md:mt-0"> <a href="/" class="hover:text-gray-300">Movies</a> </li> <li class="md:ml-6 mt-3 md:mt-0"> <a href="/tv" class="hover:text-gray-300">TV Shows</a> </li> <li class="md:ml-6 mt-3 md:mt-0"> ${renderComponent($$result, "SearchComponent", SearchComponent, { "client:load": true, "client:component-hydration": "load", "client:component-path": "/Users/achilan/repositories/astro-movies/src/components/react/SearchComponent.jsx", "client:component-export": "default" })} </li> </ul> </div> </nav>`;
}, "/Users/achilan/repositories/astro-movies/src/components/Nav.astro", void 0);

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(cooked.slice()) }));
var _a;
const $$Astro$4 = createAstro("https://achilan.github.io");
const $$Layout = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$4, $$props, $$slots);
  Astro2.self = $$Layout;
  const { title } = Astro2.props;
  return renderTemplate(_a || (_a = __template(['<html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/x-icon" href="/favicon.ico"><meta name="generator"', '><meta name="view-transition" content="same-origin"><title>', '</title><script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"><\/script>', '</head> <body class="font-sans bg-neutral-900 text-white"> <div class="h-screen overflow-hidden flex flex-col"> ', ' <div id="container" class="h-full flex-1 overflow-y-auto"> <div id="content"> ', " </div> ", " </div> </div> </body></html>"])), addAttribute(Astro2.generator, "content"), title, renderHead(), renderComponent($$result, "Nav", $$Nav, {}), renderSlot($$result, $$slots["default"]), renderComponent($$result, "Footer", $$Footer, {}));
}, "/Users/achilan/repositories/astro-movies/src/layouts/Layout.astro", void 0);

const $$Astro$3 = createAstro("https://achilan.github.io");
const $$Modal = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$3, $$props, $$slots);
  Astro2.self = $$Modal;
  const { open, close } = Astro2.props;
  return renderTemplate`${maybeRenderHead()}<div class="bg-black/50 backdrop-blur fixed inset-0 p-4 flex shadow-lg overflow-y-auto z-40"${addAttribute(close, "@click.self")}${addAttribute(open, "x-show")} x-transition.opacity> <div class="m-auto w-full max-w-5xl"> <div class="bg-gray-900 rounded"> <div class="flex justify-end pr-4 pt-2"> <button${addAttribute(close, "@click")}${addAttribute(close, "@keydown.escape.window")} class="text-3xl leading-none hover:text-gray-300">&times;
</button> </div> <div class="modal-body px-8 py-8"> ${renderSlot($$result, $$slots["default"])} </div> </div> </div> </div>`;
}, "/Users/achilan/repositories/astro-movies/src/components/Modal.astro", void 0);

const $$Astro$2 = createAstro("https://achilan.github.io");
const $$id$5 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$2, $$props, $$slots);
  Astro2.self = $$id$5;
  const { id } = Astro2.params;
  const url = `https://api.themoviedb.org/3/movie/${id}?append_to_response=credits,videos,images&api_key=${"7fb2f37bff2a42d8d4af1d65af218972"}`;
  const response = await fetch(url);
  const data = await response.json();
  const movie = {
    ...data,
    poster_path: data.poster_path ? "https://image.tmdb.org/t/p/w500/" + data.poster_path : "https://via.placeholder.com/500x750",
    vote_average: (data.vote_average * 10).toFixed(2) + "%",
    release_date: new Date(data.release_date).toLocaleDateString("en-us", {
      year: "numeric",
      month: "long",
      day: "numeric"
    }),
    genres: data.genres.map((g) => g.name).join(", "),
    crew: data.credits.crew.slice(0, 3),
    cast: data.credits.cast.slice(0, 5).map((c) => ({
      ...c,
      profile_path: c.profile_path ? "https://image.tmdb.org/t/p/w300/" + c.profile_path : "https://via.placeholder.com/300x450"
    })),
    images: data.images.backdrops.slice(0, 9)
  };
  return renderTemplate`${maybeRenderHead()}<div class="movie-info border-b border-gray-800"> <div class="container mx-auto px-4 py-16 flex flex-col md:flex-row"> <div class="flex-none"> <img${addAttribute(movie.poster_path, "src")}${addAttribute(`${movie.title} Poster`, "alt")} class="movie-poster w-64 lg:w-96" id="movie-poster"> </div> <div class="md:ml-24"> <h2 class="text-4xl mt-4 md:mt-0 mb-2 font-semibold">${movie.title}</h2> <div class="flex flex-wrap items-center text-gray-400 text-sm"> <svg class="fill-current text-orange-500 w-4" viewBox="0 0 24 24"><g data-name="Layer 2"><path d="M17.56 21a1 1 0 01-.46-.11L12 18.22l-5.1 2.67a1 1 0 01-1.45-1.06l1-5.63-4.12-4a1 1 0 01-.25-1 1 1 0 01.81-.68l5.7-.83 2.51-5.13a1 1 0 011.8 0l2.54 5.12 5.7.83a1 1 0 01.81.68 1 1 0 01-.25 1l-4.12 4 1 5.63a1 1 0 01-.4 1 1 1 0 01-.62.18z" data-name="star"></path></g></svg> <span class="ml-1">${movie.vote_average}</span> <span class="mx-2">|</span> <span>${movie.release_date}</span> <span class="mx-2">|</span> <span>${movie.genres}</span> </div> <p class="text-gray-300 mt-8"> ${movie.overview} </p> <div class="mt-12"> <h4 class="text-white font-semibold">Featured Crew</h4> <div class="flex mt-4"> ${movie.crew.map((crew) => renderTemplate`<div class="mr-8"> <div>${crew.name}</div> <div class="text-gray-400 text-sm">${crew.job}</div> </div>`)} </div> </div> <div x-data="{ isOpen: false }"> ${movie.videos.results.length && renderTemplate`<div class="mt-12"> <button @click="isOpen = true" class="flex items-center bg-orange-500 text-gray-900 rounded font-semibold px-5 py-4 hover:bg-orange-600 transition ease-in-out duration-150"> <svg class="w-6 fill-current" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg> <span class="ml-2">Play Trailer</span> </button> </div>

                    ${renderComponent($$result, "Modal", $$Modal, { "open": "isOpen", "close": "isOpen = false" }, { "default": ($$result2) => renderTemplate` <div class="responsive-container overflow-hidden relative" style="padding-top: 56.25%"> <iframe class="responsive-iframe absolute top-0 left-0 w-full h-full"${addAttribute(`https://www.youtube.com/embed/${movie.videos.results[0].key}`, "src")} style="border:0;" allow="autoplay; encrypted-media" allowfullscreen></iframe> </div> ` })}`} </div> </div> </div> </div> <!-- end movie-info --> <div class="movie-cast border-b border-gray-800"> <div class="container mx-auto px-4 py-16"> <h2 class="text-4xl font-semibold">Cast</h2> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8"> ${movie.cast.map((cast) => renderTemplate`<div class="mt-8"> <a${addAttribute(`/people/${cast.id}`, "href")}> <img${addAttribute(`person-photo-${cast.id}`, "id")}${addAttribute(cast.profile_path, "src")}${addAttribute(cast.name, "alt")} class="thumbnail hover:opacity-75 transition ease-in-out duration-150"> </a> <div class="mt-2"> <a${addAttribute(`/people/${cast.id}`, "href")} class="text-lg mt-2 hover:text-gray:300">${cast.name}</a> <div class="text-sm text-gray-400"> ${cast.character} </div> </div> </div>`)} </div> </div> </div> <!-- end movie-cast --> <div class="movie-images" x-data="{ isOpen: false, image: ''}"> <div class="container mx-auto px-4 py-16"> <h2 class="text-4xl font-semibold">Images</h2> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8"> ${movie.images.map((image) => renderTemplate`<div class="mt-8"> <a${addAttribute(`
                            isOpen = true
                            image='https://image.tmdb.org/t/p/original/${image.file_path}'
                        `, "@click.prevent")} href="#"> <img${addAttribute(`https://image.tmdb.org/t/p/w500${image.file_path}`, "src")} loading="lazy"${addAttribute(movie.name, "alt")} class="hover:opacity-75 transition ease-in-out duration-150"> </a> </div>`)} </div> ${renderComponent($$result, "Modal", $$Modal, { "open": "isOpen", "close": "isOpen = false" }, { "default": ($$result2) => renderTemplate` <img :src="image" alt="poster"> ` })} </div> </div> <!-- end movie-images -->`;
}, "/Users/achilan/repositories/astro-movies/src/pages/fragments/MovieDetails/[id].astro", void 0);
const $$file$5 = "/Users/achilan/repositories/astro-movies/src/pages/fragments/MovieDetails/[id].astro";
const $$url$5 = "/movie-finder/fragments/MovieDetails/[id]";

const _id_$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id$5,
  file: $$file$5,
  url: $$url$5
}, Symbol.toStringTag, { value: 'Module' }));

const $$Astro$1 = createAstro("https://achilan.github.io");
const $$id$4 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$id$4;
  const { id } = Astro2.params;
  const profileUrl = `https://api.themoviedb.org/3/person/${id}?append_to_response=external_ids,combined_credits&api_key=${"7fb2f37bff2a42d8d4af1d65af218972"}`;
  const profileResponse = await fetch(profileUrl);
  const profileData = await profileResponse.json();
  const person = {
    ...profileData,
    profile_path: profileData.profile_path ? "https://image.tmdb.org/t/p/w300/" + profileData.profile_path : "https://via.placeholder.com/300x450",
    birthday: new Date(profileData.birthday).toLocaleDateString("en-us", {
      year: "numeric",
      month: "long",
      day: "numeric"
    }),
    age: calculateAge(new Date(profileData.birthday))
  };
  const castMovies = profileData.combined_credits.cast || [];
  const knownFor = castMovies.sort((a, b) => b.popularity - a.popularity).slice(0, 5).map((movie) => {
    const title = movie.title || movie.name || "Untitled";
    return {
      ...movie,
      title,
      poster_path: movie.poster_path ? "https://image.tmdb.org/t/p/w185/" + movie.poster_path : "https://via.placeholder.com/185x278",
      linkToPage: movie.media_type === "movie" ? `/movies/${movie.id}` : `/tv/${movie.id}`
    };
  });
  const social = profileData.external_ids;
  const credits = castMovies.map((movie) => {
    const title = movie.title || movie.name || "Untitled";
    const release_date = movie.release_date || movie.first_air_date || "";
    return {
      ...movie,
      title,
      release_date,
      release_year: release_date ? release_date.split("-")[0] : "Future",
      linkToPage: movie.media_type === "movie" ? `/movies/${movie.id}` : `/tv/${movie.id}`
    };
  }).sort((a, b) => new Date(b.release_date) - new Date(a.release_date));
  function calculateAge(birthday) {
    const ageDifMs = Date.now() - birthday;
    const ageDate = new Date(ageDifMs);
    return Math.abs(ageDate.getUTCFullYear() - 1970);
  }
  return renderTemplate`${maybeRenderHead()}<div class="movie-info border-b border-gray-800"> <div class="container mx-auto px-4 py-16 flex flex-col md:flex-row"> <div class="flex-none"> <img${addAttribute(person.profile_path, "src")}${addAttribute(person.name, "alt")} class="person-photo w-76" id="person-photo"> <ul class="flex items-center mt-4"> ${social.facebook_id && renderTemplate`<li> <a${addAttribute(`https://www.facebook.com/${social.facebook_id}`, "href")} title="Facebook" target="_blank"> <svg class="fill-current text-gray-400 hover:text-white w-6" viewBox="0 0 448 512"><path d="M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z"></path></svg> </a> </li>`} ${social.instagram_id && renderTemplate`<li class="ml-6"> <a${addAttribute(`https://www.instagram.com/${social.instagram_id}`, "href")} title="Instagram" target="_blank"> <svg class="fill-current text-gray-400 hover:text-white w-6" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg> </a> </li>`} ${social.twitter_id && renderTemplate`<li class="ml-6"> <a${addAttribute(`https://www.twitter.com/${social.twitter_id}`, "href")} title="Twitter" target="_blank"> <svg class="fill-current text-gray-400 hover:text-white w-6" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg> </a> </li>`} ${social.homepage && renderTemplate`<li class="ml-6"> <a${addAttribute(social.homepage, "href")} title="Website" target="_blank"> <svg class="fill-current text-gray-400 hover:text-white w-6" viewBox="0 0 496 512"><path d="M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 01-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 01-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 00-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 00-15.55-3.1l-31.17 10.39a11.95 11.95 0 00-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 018.93 21.57 46.536 46.536 0 01-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 010-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"></path></svg> </a> </li>`} </ul> </div> <div class="md:ml-24"> <h2 class="text-4xl mt-4 md:mt-0 font-semibold">${person.name}</h2> <div class="flex flex-wrap items-center text-gray-400 text-sm"> <svg class="fill-current text-gray-400 hover:text-white w-4" viewBox="0 0 448 512"><path d="M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"></path></svg> <span class="ml-2">${person.birthday} (${person.age} years old) in ${person.place_of_birth}</span> </div> <p class="text-gray-300 mt-8"> ${person.biography} </p> <h4 class="font-semibold mt-12">Known For</h4> <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8"> ${knownFor.map((movie) => renderTemplate`<div class="mt-4"> <a${addAttribute(movie.linkToPage, "href")}> <img${addAttribute(movie.poster_path, "src")}${addAttribute(movie.title, "alt")} class="thumbnail hover:opacity-75 transition ease-in-out duration-150"${addAttribute(`movie-poster-${movie.id}`, "id")}> </a> <a${addAttribute(movie.linkToPage, "href")} class="text-sm leading-normal block text-gray-400 hover:text-white mt-1">${movie.title}</a> </div>`)} </div> </div> </div> </div> <!-- end movie-info --> <div class="credits border-b border-gray-800"> <div class="container mx-auto px-4 py-16"> <h2 class="text-4xl font-semibold">Credits</h2> <ul class="list-disc leading-loose pl-5 mt-8"> ${credits.map((credit) => renderTemplate`<li> ${credit.release_year} &middot;
<strong><a${addAttribute(credit.linkToPage, "href")} class="hover:underline">${credit.title}</a></strong>
as ${credit.character} </li>`)} </ul> </div> </div>`;
}, "/Users/achilan/repositories/astro-movies/src/pages/fragments/PersonDetails/[id].astro", void 0);
const $$file$4 = "/Users/achilan/repositories/astro-movies/src/pages/fragments/PersonDetails/[id].astro";
const $$url$4 = "/movie-finder/fragments/PersonDetails/[id]";

const _id_$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id$4,
  file: $$file$4,
  url: $$url$4
}, Symbol.toStringTag, { value: 'Module' }));

const $$Astro = createAstro("https://achilan.github.io");
const $$id$3 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$id$3;
  const { id } = Astro2.params;
  const url = `https://api.themoviedb.org/3/tv/${id}?append_to_response=credits,videos,images&api_key=${"7fb2f37bff2a42d8d4af1d65af218972"}`;
  const response = await fetch(url);
  const data = await response.json();
  const show = {
    ...data,
    poster_path: data.poster_path ? "https://image.tmdb.org/t/p/w500/" + data.poster_path : "https://via.placeholder.com/500x750",
    vote_average: (data.vote_average * 10).toFixed(2) + "%",
    first_air_date: new Date(data.first_air_date).toLocaleDateString("en-us", {
      year: "numeric",
      month: "long",
      day: "numeric"
    }),
    genres: data.genres.map((g) => g.name).join(", "),
    cast: data.credits.cast.slice(0, 5).map((c) => ({
      ...c,
      profile_path: c.profile_path ? "https://image.tmdb.org/t/p/w300/" + c.profile_path : "https://via.placeholder.com/300x450"
    })),
    images: data.images.backdrops.slice(0, 9)
  };
  return renderTemplate`${maybeRenderHead()}<div class="tv-info border-b border-gray-800"> <div class="container mx-auto px-4 py-16 flex flex-col md:flex-row"> <div class="flex-none"> <img${addAttribute(show.poster_path, "src")}${addAttribute(show.name, "alt")} class="movie-poster w-64 lg:w-96" id="movie-poster"> </div> <div class="md:ml-24"> <h2 class="text-4xl mt-4 md:mt-0 font-semibold">${show.name}</h2> <div class="flex flex-wrap items-center text-gray-400 text-sm"> <svg class="fill-current text-orange-500 w-4" viewBox="0 0 24 24"><g data-name="Layer 2"><path d="M17.56 21a1 1 0 01-.46-.11L12 18.22l-5.1 2.67a1 1 0 01-1.45-1.06l1-5.63-4.12-4a1 1 0 01-.25-1 1 1 0 01.81-.68l5.7-.83 2.51-5.13a1 1 0 011.8 0l2.54 5.12 5.7.83a1 1 0 01.81.68 1 1 0 01-.25 1l-4.12 4 1 5.63a1 1 0 01-.4 1 1 1 0 01-.62.18z" data-name="star"></path></g></svg> <span class="ml-1">${show.vote_average}</span> <span class="mx-2">|</span> <span>${show.first_air_date}</span> <span class="mx-2">|</span> <span>${show.genres}</span> </div> <p class="text-gray-300 mt-8"> ${show.overview} </p> <div class="mt-12"> <div class="flex mt-4"> ${show.created_by.map((crew) => renderTemplate`<div class="mr-8"> <div>${crew.name}</div> <div class="text-gray-400 text-sm">Creator</div> </div>`)} </div> </div> <div x-data="{ isOpen: false }"> ${show.videos.results.length && renderTemplate`<div class="mt-12"> <button @click="isOpen = true" class="flex items-center bg-orange-500 text-gray-900 rounded font-semibold px-5 py-4 hover:bg-orange-600 transition ease-in-out duration-150"> <svg class="w-6 fill-current" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg> <span class="ml-2">Play Trailer</span> </button> </div>

                  ${renderComponent($$result, "Modal", $$Modal, { "open": "isOpen", "close": "isOpen = false" }, { "default": ($$result2) => renderTemplate` <div class="responsive-container overflow-hidden relative" style="padding-top: 56.25%"> <iframe class="responsive-iframe absolute top-0 left-0 w-full h-full"${addAttribute(`https://www.youtube.com/embed/${show.videos.results[0].key}`, "src")} style="border:0;" allow="autoplay; encrypted-media" allowfullscreen></iframe> </div> ` })}`} <!-- @if (count($tvshow['videos']['results']) > 0)

              @endif --> </div> <div class="mt-12"> <div class="flex mt-4"> <div class="mr-8"> <div>${show.number_of_seasons}</div> <div class="text-gray-400 text-sm">Seasons</div> </div> <div class="mr-8"> <div>${show.number_of_episodes}</div> <div class="text-gray-400 text-sm">Episodes</div> </div> <div> <div>${show.status}</div> <div class="text-gray-400 text-sm">Status</div> </div> </div> </div> <div class="mt-12 overflow-auto h-80"> ${show.seasons.map((season) => renderTemplate`<div class="mt-4"> <div class="flex"> ${season.poster_path && renderTemplate`<img${addAttribute(`https://image.tmdb.org/t/p/w400/${season.poster_path}`, "src")}${addAttribute(season.name, "alt")} class="w-16">`} ${!season.poster_path && renderTemplate`<img${addAttribute(show.poster_path, "src")}${addAttribute(season.name, "alt")} class="w-16">`} <div class="ml-4"> <div class="text-lg font-semibold">${season.name}</div> <div class="text-gray-400">${season.episode_count} Episodes</div> <div class="text-gray-400">Release: ${season.air_date}</div> </div> </div> <p class="text-gray-300 mt-2"> ${season.overview} </p> </div>`)} </div> </div> </div> </div> <!-- end tv-info --> <div class="tv-cast border-b border-gray-800"> <div class="container mx-auto px-4 py-16"> <h2 class="text-4xl font-semibold">Cast</h2> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8"> ${show.cast.map((cast) => renderTemplate`<div class="mt-8"> <a${addAttribute(`/people/${cast.id}`, "href")}> <img${addAttribute(`person-photo-${cast.id}`, "id")}${addAttribute(cast.profile_path, "src")}${addAttribute(cast.name, "alt")} class="thumbnail hover:opacity-75 transition ease-in-out duration-150"> </a> <div class="mt-2"> <a${addAttribute(`/people/${cast.id}`, "href")} class="text-lg mt-2 hover:text-gray:300">${cast.name}</a> <div class="text-sm text-gray-400"> ${cast.character} </div> </div> </div>`)} </div> </div> </div> <!-- end tv-cast --> <div class="tv-images" x-data="{ isOpen: false, image: ''}"> <div class="container mx-auto px-4 py-16"> <h2 class="text-4xl font-semibold">Images</h2> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8"> ${show.images.map((image) => renderTemplate`<div class="mt-8"> <a${addAttribute(`
                            isOpen = true
                            image='https://image.tmdb.org/t/p/original/${image.file_path}'
                        `, "@click.prevent")} href="#"> <img${addAttribute(`https://image.tmdb.org/t/p/w500${image.file_path}`, "src")} loading="lazy"${addAttribute(show.name, "alt")} class="hover:opacity-75 transition ease-in-out duration-150"> </a> </div>`)} </div> ${renderComponent($$result, "Modal", $$Modal, { "open": "isOpen", "close": "isOpen = false" }, { "default": ($$result2) => renderTemplate` <img :src="image" alt="poster"> ` })} </div> </div> <!-- end tv-images -->`;
}, "/Users/achilan/repositories/astro-movies/src/pages/fragments/TvDetails/[id].astro", void 0);
const $$file$3 = "/Users/achilan/repositories/astro-movies/src/pages/fragments/TvDetails/[id].astro";
const $$url$3 = "/movie-finder/fragments/TvDetails/[id]";

const _id_$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id$3,
  file: $$file$3,
  url: $$url$3
}, Symbol.toStringTag, { value: 'Module' }));

const $$id$2 = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "title": "MovieFinder" }, { "default": ($$result2) => renderTemplate` ${renderComponent($$result2, "MovieDetails", $$id$5, {})} ` })}`;
}, "/Users/achilan/repositories/astro-movies/src/pages/movies/[id].astro", void 0);

const $$file$2 = "/Users/achilan/repositories/astro-movies/src/pages/movies/[id].astro";
const $$url$2 = "/movie-finder/movies/[id]";

const _id_$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id$2,
  file: $$file$2,
  url: $$url$2
}, Symbol.toStringTag, { value: 'Module' }));

const $$id$1 = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "title": "People - MovieFinder" }, { "default": ($$result2) => renderTemplate` ${renderComponent($$result2, "PersonDetails", $$id$4, {})} ` })}`;
}, "/Users/achilan/repositories/astro-movies/src/pages/people/[id].astro", void 0);

const $$file$1 = "/Users/achilan/repositories/astro-movies/src/pages/people/[id].astro";
const $$url$1 = "/movie-finder/people/[id]";

const _id_$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id$1,
  file: $$file$1,
  url: $$url$1
}, Symbol.toStringTag, { value: 'Module' }));

const $$id = createComponent(($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "title": "MovieFinder \u2014 TV" }, { "default": ($$result2) => renderTemplate` ${renderComponent($$result2, "TvDetails", $$id$3, {})} ` })}`;
}, "/Users/achilan/repositories/astro-movies/src/pages/tv/[id].astro", void 0);

const $$file = "/Users/achilan/repositories/astro-movies/src/pages/tv/[id].astro";
const $$url = "/movie-finder/tv/[id]";

const _id_ = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

export { $$Layout as $, _id_$5 as _, _id_$4 as a, _id_$3 as b, _id_$2 as c, _id_$1 as d, _id_ as e };
